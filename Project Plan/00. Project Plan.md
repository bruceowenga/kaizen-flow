# TaskFlow Project Planning Document

**Date:** February 5, 2026  
**Project:** TaskFlow - Hybrid Task Management Application  
**Planning Framework Version:** 1.0

---

## 1. Start from Your Goal

### Why am I making this project?

**Primary Motivation:**
I struggle with task execution and follow-through despite trying multiple digital task management systems. I've abandoned Asana, Trello, TickTick, and ClickUp because they're too complex and overwhelming. Physical notebooks work but are fragile—I lose the habit, can't sync across devices, and have no automated reminders.

**Core Problem to Solve:**
Create a task management system that combines the proven effectiveness of physical note-taking (immediacy, visibility, low friction) with minimal digital advantages (persistence, sync, reminders) while avoiding the complexity that causes abandonment.

**Success Criteria:**
- I personally use it daily for 30+ consecutive days without abandoning it
- It reduces my mental load and increases task completion rate
- The system enforces good habits without requiring willpower

### Who is this project for?

**Primary User: Myself (Bruce)**
- Software engineer managing multiple contexts (TSAVO work, personal projects, homelab infrastructure)
- Self-directed, values simplicity over features
- Has tried and abandoned 3+ task apps
- Comfortable with technical tools (CLI, Git, MCP servers)

**Secondary Users: Fellow Developers**
- Software engineers, DevOps practitioners, technical founders
- Work independently or on small teams (3-10 people)
- Value local-first, privacy-respecting tools
- Appreciate keyboard shortcuts and CLI integration

**Future Users (Post-MVP):**
- TSAVO Real Estate team members (3-5 people)
- Small businesses in Kenya needing simple task management
- Users of my homelab monitoring platform (Linzi) who want task integration

### What is going to make it valuable?

**Core Value Propositions:**

1. **Enforced Simplicity**
   - One NOW task rule prevents overwhelm
   - Flat structure (no projects/hierarchies)
   - Three states maximum (Now, Next, Waiting)

2. **Built-In Accountability**
   - Weekly review enforcement prevents system rot
   - Can't add new tasks until review is complete
   - System expects abandonment and makes return easy

3. **Zero-Friction Capture**
   - Global hotkey → type → Enter (< 3 seconds)
   - Natural language parsing ("Email John tomorrow 2pm")
   - Works offline always

4. **Radical Visibility**
   - Always-on dashboard widget
   - Next action visible without opening app
   - No hidden menus or buried tasks

5. **Data Ownership**
   - Local SQLite database (you own your data)
   - Git-based sync (use your own infrastructure)
   - Plain text export anytime

6. **Developer-Friendly**
   - MCP server for Claude Code integration
   - CLI for scripting
   - API for homelab automation

---

## 2. User Stories

### Core Task Management (Must-Have - MVP)

1. **As a user, I should be able to capture a task in under 3 seconds** using a global hotkey without leaving my current application
2. **As a user, I should see my current NOW task at all times** in a persistent widget on my desktop
3. **As a user, I should see my next 3-5 tasks** in priority order without opening the full app
4. **As a user, I should be able to mark the NOW task as complete** with a single keyboard shortcut (Space)
5. **As a user, I should only be able to have ONE task in NOW status** to prevent task-switching without conscious decision
6. **As a user, I should be able to defer a task to LATER** with a right-click or keyboard shortcut
7. **As a user, I should be able to delete a task** if it's no longer relevant
8. **As a user, I should be forced to do a weekly review** when I haven't reviewed tasks in 7+ days
9. **As a user, I should be able to triage tasks during review** by swiping or using arrow keys (Do/Defer/Delete/Someday)
10. **As a user, I should be able to see when my next review is due** in the dashboard footer

### Natural Language & Smart Features (Must-Have - MVP)

11. **As a user, I should be able to type "tomorrow at 2pm"** and have the system automatically schedule the task
12. **As a user, I should be able to add tags** using #hashtags in the task title
13. **As a user, I should have tasks automatically categorized by context** based on time of day and activity (work/personal/infrastructure)

### Sync & Data (Must-Have - MVP)

14. **As a user, I should be able to sync my tasks across devices** using my own Git repository
15. **As a user, I should be able to work offline** and have changes sync when I'm back online
16. **As a user, I should be able to export my data** in JSON, Markdown, or CSV format

### Mobile (Should-Have - Phase 2)

17. **As a mobile user, I should be able to quick-add tasks** from a home screen widget
18. **As a mobile user, I should be able to see my NOW task** on my lock screen or home screen widget
19. **As a mobile user, I should be able to complete tasks** from the widget without opening the app

### Advanced Features (Nice-to-Have - Phase 3+)

20. **As a developer, I should be able to add tasks via CLI** for scripting and automation
21. **As a Claude Code user, I should be able to manage tasks** directly from my coding environment via MCP
22. **As a homelab operator, I should receive tasks from monitoring alerts** when critical issues occur
23. **As a user, I should see a daily notebook-style view** of all tasks captured that day
24. **As a user, I should be able to sketch or draw** alongside my tasks in notebook mode
25. **As a team member, I should be able to share specific task lists** with 2-3 collaborators (collaboration lite)

---

## 3. Data Models

### Core Models (Stack-Agnostic)

#### **Task Model**
```
Task {
  - id: string (UUID)
  - title: string (max 500 chars)
  - status: enum (now, next, waiting, scheduled, someday, done, deleted)
  - context: enum (work, personal, infrastructure, development, communication)
  - priority: integer (0-4)
  
  // Timestamps
  - created_at: timestamp
  - updated_at: timestamp
  - completed_at: timestamp (nullable)
  - scheduled_for: timestamp (nullable)
  - deleted_at: timestamp (nullable)
  
  // Content
  - notes: text (nullable)
  - tags: array of strings
  - original_input: string (what user typed before NLP parsing)
  
  // Relationships
  - parent_id: string (nullable, for subtasks)
  
  // Time tracking
  - time_spent_seconds: integer
  - started_at: timestamp (nullable)
  
  // Metadata
  - source: enum (manual, desktop_hotkey, mobile_widget, email, api, mcp, monitoring)
  - device_id: string
  - sync_version: integer
  - conflict_resolution: json (nullable)
}

Relationships:
- Task may have many child tasks (subtasks)
- Task belongs to zero or one parent task
- Task belongs to one context
- Task may belong to many shared lists
```

#### **Review Model**
```
Review {
  - id: string (UUID)
  - started_at: timestamp
  - completed_at: timestamp (nullable)
  
  // Statistics
  - tasks_reviewed: integer
  - tasks_completed: integer
  - tasks_deferred: integer
  - tasks_scheduled: integer
  - tasks_deleted: integer
  - tasks_someday: integer
  
  - duration_seconds: integer
  - review_type: enum (weekly, emergency, manual)
  - device_id: string
  - notes: text (nullable)
}

Relationships:
- Review has many ReviewTasks (junction table)
- ReviewTask links Review to Task with action taken
```

#### **Context Session Model**
```
ContextSession {
  - id: string (UUID)
  - context: enum (work, personal, infrastructure, development, communication)
  - started_at: timestamp
  - ended_at: timestamp (nullable)
  
  // Detection metadata
  - detection_method: enum (time, location, activity, manual)
  - detection_data: json (e.g., {"wifi": "HomeSSID", "hour": 14})
  - device_id: string
}

Relationships:
- User has many context sessions
- Context session is independent (no direct task relationship)
```

#### **Time Session Model**
```
TimeSession {
  - id: string (UUID)
  - task_id: string (foreign key)
  - started_at: timestamp
  - ended_at: timestamp (nullable)
  - duration_seconds: integer
  
  // Pause tracking
  - pause_count: integer
  - total_pause_seconds: integer
  - device_id: string
}

Relationships:
- TimeSession belongs to one Task
- Task has many TimeSessions
```

#### **Sync Log Model**
```
SyncLog {
  - id: string (UUID)
  - timestamp: timestamp
  - operation: enum (push, pull, conflict, merge)
  - status: enum (success, failure, partial)
  
  // Statistics
  - tasks_pushed: integer
  - tasks_pulled: integer
  - conflicts_detected: integer
  - conflicts_resolved: integer
  
  - error_message: text (nullable)
  - details: json
  - device_id: string
}

Relationships:
- SyncLog is independent (audit trail)
```

#### **Settings Model**
```
Setting {
  - key: string (primary key)
  - value: string
  - type: enum (string, integer, boolean, json)
  - updated_at: timestamp
}

Relationships:
- Settings are global key-value pairs
```

#### **Shared List Model** (Phase 3+)
```
SharedList {
  - id: string (UUID)
  - name: string
  - description: text (nullable)
  - created_at: timestamp
  - owner_id: string
  - server_id: string (nullable, sync server ID)
  - last_synced_at: timestamp (nullable)
}

SharedListMember {
  - list_id: string (foreign key)
  - user_id: string
  - role: enum (owner, member)
  - added_at: timestamp
}

SharedListTask {
  - list_id: string (foreign key)
  - task_id: string (foreign key)
  - assigned_to: string (nullable)
}

Relationships:
- SharedList has many SharedListMembers
- SharedList has many SharedListTasks
- SharedListTask links SharedList to Task
```

---

## 4. Nail the MVP

### MVP User Stories (10 Core Features)

Stripping down from 25 to 10 essential stories that make the app functional:

✅ **1. Quick capture with global hotkey** (Story #1)  
✅ **2. Persistent dashboard widget showing NOW/NEXT/WAITING** (Stories #2, #3)  
✅ **3. One NOW task rule enforcement** (Story #5)  
✅ **4. Complete task with keyboard shortcut** (Story #4)  
✅ **5. Defer/delete tasks** (Stories #6, #7)  
✅ **6. Weekly review enforcement** (Story #8)  
✅ **7. Review triage flow** (Story #9)  
✅ **8. Basic NLP parsing for dates/times** (Story #11)  
✅ **9. Local SQLite storage** (Story #16 - export only)  
✅ **10. Git-based sync** (Story #14)

### Features CUT from MVP (Build Later)

❌ **Context detection** (Story #13) - Manual context switching in MVP  
❌ **Mobile app** (Stories #17-19) - Desktop-only for MVP  
❌ **CLI/MCP integration** (Stories #20-22) - Phase 3  
❌ **Notebook mode** (Stories #23-24) - Phase 3  
❌ **Collaboration** (Story #25) - Phase 4  
❌ **Hashtag parsing** (Story #12) - Manual tags in MVP  
❌ **Lock screen widgets** - Phase 2  
❌ **Advanced analytics** - Phase 3  
❌ **Time tracking UI** - Phase 2 (data collected but not displayed)

### MVP Definition of Done

**A working prototype that allows me to:**
1. Capture tasks instantly via hotkey
2. Always see what I should be working on (NOW task)
3. Complete tasks and have the next one auto-promote
4. Do a weekly review to prevent task rot
5. Sync between my desktop and homelab
6. Work offline without losing data

**Time to MVP:** 6 weeks (Phase 1 from PRD)

---

## 5. Wireframes (Basic Sketches)

### Desktop Dashboard Widget

```
┌─ TaskFlow ──────────────────── ─ □ ✕
│ 
│ NOW (1)
│ ┌────────────────────────────────┐
│ │ → Fix 3CX user adoption issues │
│ │   Started: 2h 15m ago          │
│ │   [Complete] [Defer] [Delete]  │
│ └────────────────────────────────┘
│
│ NEXT (3)
│ • Review Linzi monitoring PRs
│ • Update Ghost blog deployment  
│ • Backup Firefly III database
│
│ WAITING (2)
│ ⏰ Response from Sarah (2 days)
│ ⏰ Safaricom callback (1 week)
│
│ ⚠️ Review due in 3 days
└────────────────────────────────────┘

[Keyboard shortcuts: Space=Complete, N=Next, D=Defer]
```

### Quick Capture Overlay

```
┌──────────────────────────────────────────┐
│                                          │
│    ┌──────────────────────────────────┐ │
│    │ What needs to be done?           │ │
│    │ ___________________________      │ │
│    │                                  │ │
│    │ e.g., "Email John tomorrow 2pm" │ │
│    │                                  │ │
│    │ Press Enter to save, Esc cancel │ │
│    └──────────────────────────────────┘ │
│                                          │
└──────────────────────────────────────────┘
```

### Weekly Review Flow

```
Step 1: Welcome
┌────────────────────────────────┐
│  This week you captured        │
│  23 tasks                      │
│                                │
│  You completed 15. Nice work!  │
│                                │
│  8 tasks need decisions.       │
│  This will take about 5 min.   │
│                                │
│  [Start Review] [Snooze 1hr]  │
└────────────────────────────────┘

Step 2: Triage (one at a time)
┌────────────────────────────────┐
│  Fix Ghost blog SSL issue      │
│  Created: 5 days ago           │
│                                │
│  Swipe or use arrows:          │
│                                │
│  → Do Now                      │
│  ↑ Schedule                    │
│  ↓ Someday/Maybe              │
│  ← Delete                      │
│                                │
│  Progress: 3 of 8 remaining    │
└────────────────────────────────┘

Step 3: Summary
┌────────────────────────────────┐
│  ✅ Review complete!           │
│                                │
│  Actions:                      │
│  - 3 tasks → NOW queue         │
│  - 2 tasks → Scheduled         │
│  - 2 tasks → Someday/Maybe     │
│  - 1 task → Deleted            │
│                                │
│  Next review: Sunday, Feb 12   │
│                                │
│  [Done]                        │
└────────────────────────────────┘
```

### Settings Panel

```
┌─ Settings ─────────────────────────┐
│                                    │
│ General                            │
│  Theme: [ System ▼ ]              │
│  Hotkey: [Cmd+Shift+Space]        │
│                                    │
│ Review                             │
│  Review Day: [ Sunday ▼ ]         │
│  Review Time: [20:00]              │
│  Notifications: [✓] Enabled        │
│                                    │
│ Sync                               │
│  Git Remote: [git@github:...]     │
│  Sync Interval: [5] minutes        │
│  Last Sync: 2 minutes ago          │
│  [Sync Now]                        │
│                                    │
│ Data                               │
│  Database: ~/.local/share/...     │
│  [Export Data] [Import Data]      │
│                                    │
│ Privacy                            │
│  Analytics: [ ] Disabled           │
│  Encryption: [ ] Disabled          │
│                                    │
└────────────────────────────────────┘
```

### Mobile Dashboard (Phase 2 - Not MVP)

```
┌──────────────────┐
│ TaskFlow    ☰   │
├──────────────────┤
│                  │
│ NOW              │
│ ┌──────────────┐│
│ │Fix 3CX issue ││
│ │2h 15m        ││
│ │[✓] [→] [✕]  ││
│ └──────────────┘│
│                  │
│ NEXT (3)         │
│ • Review PRs     │
│ • Update blog    │
│ • Backup DB      │
│                  │
│ WAITING (2)      │
│ ⏰ Email Sarah   │
│ ⏰ Safaricom     │
│                  │
├──────────────────┤
│ Review in 3 days │
└──────────────────┘
```

---

## 6. Future of the Project

### Short-Term (0-3 months): Personal Use
- **Goal:** Prove the concept works for me personally
- **Success:** 30+ days of consistent daily use
- **Scope:** Desktop-only, single user (me)
- **Infrastructure:** Local development, homelab Git server

### Medium-Term (3-6 months): Small Team Testing
- **Goal:** Validate with TSAVO team (3-5 people)
- **Success:** 50%+ team adoption, positive feedback
- **Scope:** Add mobile app, basic collaboration features
- **Infrastructure:** Self-hosted sync server on homelab

### Long-Term (6-12 months): Public Beta
- **Goal:** Release to fellow developers/early adopters
- **Success:** 100+ active users, 80% 30-day retention
- **Scope:** Polish UX, add MCP/CLI, comprehensive docs
- **Infrastructure:** Cloud-hosted option for non-technical users

### Very Long-Term (12+ months): Product
- **Goal:** Sustainable open-source project or small business
- **Success:** 1000+ users, self-sustaining (donations or paid features)
- **Scope:** Mobile widgets, advanced features, ecosystem integrations
- **Infrastructure:** CDN for binaries, cloud sync option, community support

### Exit Criteria for Each Phase

**Phase 1 → Phase 2:**
- [ ] I've used MVP daily for 30 days without abandoning
- [ ] Completed 2+ weekly reviews without skipping
- [ ] Sync works reliably between desktop and homelab
- [ ] Zero data loss incidents

**Phase 2 → Phase 3:**
- [ ] 3+ TSAVO team members using for 14+ days
- [ ] Mobile app feature parity with desktop
- [ ] Positive feedback from all beta testers
- [ ] No critical bugs in issue tracker

**Phase 3 → Phase 4:**
- [ ] 50+ external beta users
- [ ] NPS score > 50
- [ ] Documentation complete
- [ ] Automated deployment pipeline working

---

## 7. Component Architecture

### Frontend Components

**Desktop (Tauri + React)**
```
src/
├── components/
│   ├── Dashboard/
│   │   ├── Dashboard.tsx          # Main container
│   │   ├── NowTask.tsx            # Current task display
│   │   ├── NextTasks.tsx          # Queue of next tasks
│   │   └── WaitingTasks.tsx       # Blocked tasks
│   ├── QuickCapture/
│   │   └── CaptureOverlay.tsx     # Hotkey-triggered input
│   ├── Review/
│   │   ├── ReviewFlow.tsx         # Wizard container
│   │   ├── TriageCard.tsx         # Single task triage
│   │   └── ReviewSummary.tsx      # Completion screen
│   └── Settings/
│       └── SettingsPanel.tsx      # Configuration UI
├── hooks/
│   ├── useTasks.ts                # Task CRUD operations
│   ├── useSync.ts                 # Sync status/controls
│   └── useReview.ts               # Review workflow
├── store/
│   └── taskStore.ts               # Zustand state management
└── api/
    └── tauri.ts                   # Tauri command wrappers
```

### Backend Components

**Rust (Tauri Core)**
```
src-tauri/
├── src/
│   ├── commands/
│   │   ├── tasks.rs               # Task CRUD commands
│   │   ├── sync.rs                # Sync operations
│   │   └── review.rs              # Review commands
│   ├── db/
│   │   ├── connection.rs          # SQLite pool
│   │   ├── models.rs              # Data structures
│   │   └── queries.rs             # SQL queries
│   ├── sync/
│   │   ├── git.rs                 # Git operations
│   │   └── conflict.rs            # Conflict resolution
│   ├── nlp/
│   │   └── parser.rs              # Date/time parsing
│   └── system/
│       ├── hotkey.rs              # Global hotkey
│       ├── tray.rs                # System tray
│       └── notifications.rs       # Native notifications
```

### Data Layer

**SQLite Database**
```
~/.local/share/taskflow/
├── taskflow.db                    # Main database
├── taskflow.db-wal                # Write-ahead log
└── taskflow.db-shm                # Shared memory
```

**Git Repository (Sync)**
```
~/taskflow-data/ (on homelab)
├── taskflow.db                    # Synced database
├── .git/                          # Git metadata
└── conflict-resolution/           # Manual conflict files
```

---

## 8. Technology Stack Selection

### Desktop Application

**Frontend Framework: React 18 + TypeScript**
- ✅ **Pros:** Familiar, large ecosystem, hot reload, TypeScript safety
- ✅ **Within skillset:** Extensive React experience
- ✅ **Deployment:** Bundled with Tauri, no separate hosting needed

**Desktop Framework: Tauri 1.5**
- ✅ **Pros:** Small binary (~3MB), better performance than Electron, Rust security
- ✅ **Within skillset:** Learning Rust is valuable, good documentation
- ✅ **Deployment:** Single binary per platform, easy distribution
- ❌ **Cons:** Smaller ecosystem than Electron, steeper learning curve

**Alternative Considered: Electron**
- ❌ Large binary size (~100MB)
- ❌ Higher memory usage
- ✅ More mature ecosystem
- **Decision:** Tauri's benefits outweigh learning curve

**State Management: Zustand**
- ✅ **Pros:** Simpler than Redux, minimal boilerplate, TypeScript-first
- ✅ **Within skillset:** Easy to learn
- ✅ **Deployment:** No impact

**Database: SQLite (via rusqlite)**
- ✅ **Pros:** Serverless, file-based, fast, reliable, standard SQL
- ✅ **Within skillset:** SQL knowledge transfers
- ✅ **Deployment:** Embedded, no separate database server needed

### Mobile Application (Phase 2)

**Framework: Flutter 3.16**
- ✅ **Pros:** Single codebase for iOS/Android, native performance, widget system
- ✅ **Within skillset:** Dart is similar to TypeScript, good documentation
- ✅ **Deployment:** Standard app store deployment
- ❌ **Cons:** Need to learn Dart/Flutter

**Alternative Considered: React Native**
- ✅ Code reuse with desktop React
- ❌ Bridge performance issues
- ❌ Native module complexity
- **Decision:** Flutter's native performance and widget system better for dashboard widgets

### Backend Services (Phase 3)

**MCP Server: Python 3.11 + Official MCP SDK**
- ✅ **Pros:** Official SDK, good documentation, async support
- ✅ **Within skillset:** Python expertise
- ✅ **Deployment:** Single script, runs via stdio

**Sync Server (Optional): FastAPI + PostgreSQL**
- ✅ **Pros:** Fast, modern Python framework, async, auto-generated docs
- ✅ **Within skillset:** Python expertise, Postgres knowledge
- ✅ **Deployment:** Docker Compose on homelab

### Sync Strategy

**Primary: Git-based**
- ✅ **Pros:** Decentralized, users control their data, version history, conflict resolution
- ✅ **Within skillset:** Git expertise
- ✅ **Deployment:** Any Git server (GitHub, GitLab, Gitea, self-hosted)
- ❌ **Cons:** Technical barrier for non-developers (solve in Phase 4 with cloud option)

### Development Tools

**Version Control: Git + GitHub**
- ✅ Standard, free, familiar

**CI/CD: GitHub Actions**
- ✅ Free for public repos, good Tauri/Flutter support

**Testing:**
- Desktop: Vitest (fast, Vite-native)
- Mobile: Flutter test framework (built-in)
- Backend: pytest (familiar, powerful)

### Deployment Strategy

#### Desktop
**macOS:**
- Build: `npm run tauri build` → `.dmg` file
- Sign: Apple Developer account + certificates
- Distribute: GitHub Releases + direct download

**Windows:**
- Build: `npm run tauri build` → `.msi` installer
- Sign: Code signing certificate
- Distribute: GitHub Releases + direct download

**Linux:**
- Build: `npm run tauri build` → `.AppImage` + `.deb`
- No signing required
- Distribute: GitHub Releases + AUR (later)

#### Mobile (Phase 2)
**iOS:**
- Build: `flutter build ios --release`
- Sign: Apple Developer account
- Distribute: TestFlight → App Store

**Android:**
- Build: `flutter build apk --release`
- Sign: Keystore
- Distribute: Direct APK + Google Play

#### MCP Server (Phase 3)
- Package: Python package on PyPI
- Install: `pip install taskflow-mcp`
- Configure: Add to `claude_desktop_config.json`

**Can I Actually Deploy This?**
✅ **YES** - All chosen technologies have clear deployment paths:
- Desktop: Single binary per platform (already deploying Docker on homelab)
- Mobile: Standard app store process (research needed but well-documented)
- Backend: Docker Compose on existing homelab infrastructure
- MCP: Python package distribution (familiar territory)

---

## 9. Development Process

### Phase 1: Create Project Skeleton (Week 1)

**Desktop Setup:**
```bash
# Create Tauri project
npm create tauri-app@latest taskflow
cd taskflow

# Project structure
taskflow/
├── src/                    # React frontend
├── src-tauri/              # Rust backend
├── public/                 # Static assets
├── package.json
├── tsconfig.json
├── vite.config.ts
└── README.md

# Initialize Git
git init
git add .
git commit -m "Initial Tauri project"
```

**Database Setup:**
```bash
# Create database directory
mkdir -p ~/.local/share/taskflow

# Initialize schema
sqlite3 ~/.local/share/taskflow/taskflow.db < schema.sql

# Test connection
sqlite3 ~/.local/share/taskflow/taskflow.db "SELECT * FROM sqlite_master;"
```

**Basic Folder Structure:**
```
taskflow/
├── src/
│   ├── components/
│   │   └── .gitkeep
│   ├── hooks/
│   │   └── .gitkeep
│   ├── store/
│   │   └── .gitkeep
│   ├── api/
│   │   └── .gitkeep
│   ├── types/
│   │   └── index.ts
│   ├── App.tsx
│   └── main.tsx
├── src-tauri/
│   ├── src/
│   │   ├── commands/
│   │   ├── db/
│   │   ├── sync/
│   │   ├── nlp/
│   │   ├── system/
│   │   └── main.rs
│   ├── Cargo.toml
│   └── tauri.conf.json
├── schema.sql
├── docs/
│   ├── PRD.md
│   ├── TDD.md
│   └── PLANNING.md
└── .github/
    └── workflows/
        └── build.yml
```

### Phase 2: Development Environment (Week 1)

**Version Control:**
```bash
# Create .gitignore
cat > .gitignore << EOF
node_modules/
dist/
target/
*.db
*.db-wal
*.db-shm
.env.local
.DS_Store
EOF

# Create development branch
git checkout -b develop

# Setup remote (homelab)
git remote add origin git@heimdall:bruce/taskflow.git
git push -u origin develop
```

**Environment Variables:**
```bash
# .env.development
DATABASE_URL=~/.local/share/taskflow/taskflow-dev.db
GIT_REMOTE_URL=
SYNC_INTERVAL_MINUTES=5
LOG_LEVEL=debug
```

**Database Migrations:**
```bash
# Create migrations directory
mkdir -p src-tauri/migrations

# Migration files
src-tauri/migrations/
├── 001_initial_schema.sql
└── migration_runner.rs
```

**Hot Reload Setup:**
```bash
# Terminal 1: Frontend dev server
npm run dev

# Terminal 2: Tauri dev mode (auto-recompiles Rust)
npm run tauri dev
```

### Phase 3: Build Backend Routes/API (Weeks 2-3)

**Database Layer First:**
```rust
// Week 2, Day 1-2: Database connection and models
src-tauri/src/db/
├── connection.rs    # SQLite pool setup
├── models.rs        # Task, Review, etc. structs
└── queries.rs       # SQL query functions

// Week 2, Day 3-4: Core queries
impl Database {
    async fn create_task()
    async fn get_task()
    async fn get_now_task()
    async fn get_next_tasks()
    async fn update_task_status()
    async fn complete_task()
}
```

**Tauri Commands Second:**
```rust
// Week 2, Day 5: Basic CRUD commands
src-tauri/src/commands/tasks.rs

#[tauri::command]
async fn quick_capture(title: String) -> Result<Task>

#[tauri::command]
async fn get_dashboard_data() -> Result<DashboardData>

#[tauri::command]
async fn complete_task(task_id: String) -> Result<()>
```

**NLP Parser:**
```rust
// Week 3, Day 1-2: Natural language parsing
src-tauri/src/nlp/parser.rs

impl Parser {
    pub fn parse(input: &str) -> ParsedTask {
        // Extract dates/times
        // Extract tags
        // Return structured data
    }
}
```

**Sync Engine:**
```rust
// Week 3, Day 3-5: Git-based sync
src-tauri/src/sync/git.rs

impl GitSync {
    async fn sync() -> Result<SyncResult> {
        // Stage changes
        // Commit
        // Pull with rebase
        // Push
        // Handle conflicts
    }
}
```

### Phase 4: Build Frontend Interface (Weeks 3-4)

**State Management:**
```typescript
// Week 3, Day 5: Zustand store
src/store/taskStore.ts

interface TaskStore {
  dashboardData: DashboardData | null;
  loadDashboard: () => Promise<void>;
  quickCapture: (title: string) => Promise<Task>;
  completeTask: (taskId: string) => Promise<void>;
}
```

**Core Components:**
```typescript
// Week 4, Day 1-2: Dashboard
src/components/Dashboard/Dashboard.tsx
src/components/Dashboard/NowTask.tsx
src/components/Dashboard/NextTasks.tsx

// Week 4, Day 3: Quick Capture
src/components/QuickCapture/CaptureOverlay.tsx

// Week 4, Day 4-5: Review Flow
src/components/Review/ReviewFlow.tsx
src/components/Review/TriageCard.tsx
```

**Connect to Backend:**
```typescript
// API wrapper for Tauri commands
src/api/tauri.ts

export async function quickCapture(title: string): Promise<Task> {
  return await invoke<Task>('quick_capture', { title });
}

export async function getDashboardData(): Promise<DashboardData> {
  return await invoke<DashboardData>('get_dashboard_data');
}
```

### Phase 5: Project Iteration (Weeks 5-6)

**Week 5: Core Features**
- Day 1: Global hotkey registration
- Day 2: System tray integration
- Day 3: Weekly review trigger logic
- Day 4: One-NOW-task rule enforcement
- Day 5: Settings panel

**Week 6: Polish & Testing**
- Day 1-2: Bug fixes from dogfooding
- Day 3: Performance optimization
- Day 4: Error handling and edge cases
- Day 5: Documentation and README

### Phase 6: Automated Deployment (Week 6+)

**GitHub Actions CI/CD:**
```yaml
# .github/workflows/build.yml

on:
  push:
    tags:
      - 'v*'

jobs:
  build-macos:
    runs-on: macos-latest
    steps:
      - Build DMG
      - Upload to GitHub Releases
  
  build-windows:
    runs-on: windows-latest
    steps:
      - Build MSI
      - Upload to GitHub Releases
  
  build-linux:
    runs-on: ubuntu-latest
    steps:
      - Build AppImage
      - Upload to GitHub Releases
```

**Testing Pipeline:**
```yaml
# .github/workflows/test.yml

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - Rust tests: cargo test
      - Frontend tests: npm run test
      - Lint: cargo clippy, npm run lint
```

---

## 10. Development Timeline

### Week 1: Foundation
- **Mon-Tue:** Project skeleton, database schema, Git setup
- **Wed-Thu:** Database connection, basic models, test data
- **Fri:** Development environment verification, hot reload working

### Week 2: Backend Core
- **Mon-Tue:** Database queries (CRUD, NOW task, NEXT tasks)
- **Wed-Thu:** Tauri commands, NLP parser basics
- **Fri:** Sync engine initial implementation

### Week 3: Backend + Frontend Start
- **Mon-Tue:** Finish sync engine, conflict resolution
- **Wed-Thu:** Zustand store, API wrappers
- **Fri:** Dashboard component shell

### Week 4: Frontend Development
- **Mon-Tue:** Dashboard widgets (NOW, NEXT, WAITING)
- **Wed:** Quick capture overlay
- **Thu-Fri:** Review flow components

### Week 5: System Integration
- **Mon:** Global hotkey implementation
- **Tue:** System tray and notifications
- **Wed:** Weekly review scheduling
- **Thu:** One-NOW-task rule
- **Fri:** Settings panel

### Week 6: Polish & Ship
- **Mon-Tue:** Bug fixes, edge cases
- **Wed:** Performance tuning
- **Thu:** Documentation, README
- **Fri:** Build MVP release, start dogfooding

---

## 11. Success Metrics & Validation

### Week 6 Success Criteria (Go/No-Go for Phase 2)

**Must Achieve:**
- [ ] I personally use TaskFlow for 7 consecutive days
- [ ] Quick capture works in < 3 seconds end-to-end
- [ ] Complete at least 1 weekly review
- [ ] Zero data loss during testing
- [ ] Sync works between desktop and homelab

**Should Achieve:**
- [ ] Capture 50+ tasks during week
- [ ] Complete 60%+ of tasks started
- [ ] Dashboard visible during work hours
- [ ] No app crashes

**Validation Questions:**
1. **Would I be frustrated if TaskFlow disappeared tomorrow?**
   - If NO → Identify what's missing
   - If YES → Proceed to Phase 2

2. **Am I using TaskFlow more than my notebook?**
   - If NO → Fix friction points
   - If YES → Validate hypothesis

3. **Have I abandoned any other task apps since starting TaskFlow?**
   - If NO → TaskFlow isn't differentiated enough
   - If YES → Core value prop is working

---

## 12. Risk Mitigation

### Technical Risks

**Risk: Sync conflicts cause data loss**
- **Mitigation:** Automatic backup before every sync
- **Validation:** Test with intentional conflicts
- **Fallback:** Manual conflict resolution UI

**Risk: Global hotkey conflicts with other apps**
- **Mitigation:** Configurable hotkey in settings
- **Validation:** Test on clean macOS/Windows/Linux installs
- **Fallback:** Menu bar quick capture alternative

**Risk: SQLite corruption**
- **Mitigation:** Write-ahead logging (WAL), regular integrity checks
- **Validation:** Crash tests, forced shutdown tests
- **Fallback:** Automatic backup restoration

### Product Risks

**Risk: I abandon TaskFlow like other apps**
- **Mitigation:** Weekly check-ins, track abandonment triggers
- **Validation:** 7-day, 14-day, 30-day usage milestones
- **Fallback:** Pivot features based on why I stopped using it

**Risk: MVP is too minimal to be useful**
- **Mitigation:** MVP includes all 10 core user stories
- **Validation:** Can complete real work tasks with MVP
- **Fallback:** Add one feature from "cut" list at a time

**Risk: Sync is too technical for average users**
- **Mitigation:** Phase 1 is for me (technical user)
- **Validation:** TSAVO team testing in Phase 2
- **Fallback:** Build cloud sync option in Phase 3

---

## Next Steps

### Immediate Actions (This Week)

1. **Create project repository**
   ```bash
   npm create tauri-app@latest taskflow
   cd taskflow
   git init
   git remote add origin git@heimdall:bruce/taskflow.git
   ```

2. **Set up database schema**
   ```bash
   mkdir -p ~/.local/share/taskflow
   sqlite3 ~/.local/share/taskflow/taskflow-dev.db < schema.sql
   ```

3. **Create project board**
   - GitHub Projects or linear board
   - Columns: Backlog, In Progress, Review, Done
   - Add 10 MVP user stories as issues

4. **Schedule development blocks**
   - Mon-Fri: 6-8 PM (2 hours/day)
   - Sat-Sun: 10 AM - 2 PM (4 hours/day)
   - Total: 18 hours/week × 6 weeks = 108 hours

5. **Set up accountability**
   - Daily commit streak (even if small)
   - Weekly progress blog post
   - Share with TSAVO team for encouragement

---

**Ready to Start:** ✅  
**First Commit Target:** Tomorrow  
**MVP Target Date:** March 18, 2026 (6 weeks from today)